{"version":3,"file":"js/drawPage.a26ba200.js","mappings":"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","sources":["webpack://drawnsell/./src/pages/drawPage.vue","webpack://drawnsell/./src/components/draw/intro.vue","webpack://drawnsell/./src/components/draw/intro.vue?9882","webpack://drawnsell/./src/components/draw/container.vue","webpack://drawnsell/./src/components/draw/components/tools.vue","webpack://drawnsell/./src/components/draw/components/toolsActions.js","webpack://drawnsell/./src/components/draw/components/tools.vue?db94","webpack://drawnsell/./src/components/draw/components/field.vue","webpack://drawnsell/./src/components/draw/components/field.vue?a9d9","webpack://drawnsell/./src/components/draw/container.vue?e8a9","webpack://drawnsell/./src/components/draw/statistics.vue","webpack://drawnsell/./src/components/draw/statistics.vue?d367","webpack://drawnsell/./src/pages/drawPage.vue?b216","webpack://drawnsell/./src/assets/icons/ sync ^\\.\\/.*$"],"sourcesContent":["<template>\r\n  <div class=\"draw-page\">\r\n    <black-sun />\r\n    <div class=\"container-wrapper\">\r\n      <intro />\r\n      <container />\r\n      <statistics />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport intro from '@/components/draw/intro'\r\nimport container from '@/components/draw/container'\r\nimport statistics from '@/components/draw/statistics'\r\n\r\nexport default {\r\n  name: 'draw-page',\r\n  components: {\r\n    intro,\r\n    container,\r\n    statistics\r\n  },\r\n  data () {\r\n    return {}\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  mounted () {\r\n\r\n  },\r\n  methods: {}\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .draw-page {\r\n    padding-top: 40px;\r\n    height: 100%;\r\n    margin-bottom: 118px;\r\n  }\r\n</style>\r\n","<template>\r\n  <div class=\"intro container\">\r\n    <h1>DRAW</h1>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'intro',\r\n  components: {},\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  mounted() {\r\n\r\n  },\r\n  methods: {}\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.intro {\r\n  padding-top: 90px;\r\n  margin-bottom: 70px;\r\n  display: flex;\r\n  flex-flow: column;\r\n  align-items: center;\r\n  & h1 {\r\n    color: #FFFFFF;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./intro.vue?vue&type=template&id=c4cc350e&scoped=true\"\nimport script from \"./intro.vue?vue&type=script&lang=js\"\nexport * from \"./intro.vue?vue&type=script&lang=js\"\n\nimport \"./intro.vue?vue&type=style&index=0&id=c4cc350e&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Projects\\\\My\\\\drawnsell\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c4cc350e\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"container\">\r\n    <tools\r\n      @handle-tools=\"handleTools\"\r\n      @change-pen-color=\"changePenColor\"\r\n      @change-pen-size=\"changePenSize\"\r\n      @change-pen-mode=\"changePenMode\"\r\n      @download-img=\"downloadImg\"\r\n      @reg-card=\"regCard\"\r\n      @fullscreen=\"fullscreen\"\r\n    />\r\n    <field\r\n      :fullscreen=\"isFullscreen\"\r\n      @interface=\"getChildInterface\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, provide } from 'vue'\r\nimport tools from '@/components/draw/components/tools'\r\nimport field from '@/components/draw/components/field'\r\n\r\nexport default {\r\n  name: 'container',\r\n  components: {tools, field},\r\n  setup () {\r\n    let lineCfg = ref({})\r\n    let isFullscreen = ref(false)\r\n    const changePenMode = (actionData) => {\r\n      lineCfg.value.mode = actionData.isOn && actionData.mode\r\n    }\r\n    const changePenColor = (actionData) => {\r\n      lineCfg.value.color = actionData.color\r\n    }\r\n    const changePenSize = (actionData) => {\r\n      lineCfg.value.width = actionData\r\n    }\r\n    const handleTools = (func) => {\r\n      func()\r\n    }\r\n    provide('lineCfg', lineCfg)\r\n\r\n    return {\r\n      lineCfg,\r\n      isFullscreen,\r\n      changePenMode,\r\n      changePenColor,\r\n      changePenSize,\r\n      handleTools\r\n    }\r\n  },\r\n  mounted () {\r\n    document.addEventListener('fullscreenchange', this.handleFullscreenChange)\r\n  },\r\n  beforeUnmount () {\r\n    document.removeEventListener('fullscreenchange', this.handleFullscreenChange)\r\n  },\r\n  methods: {\r\n    getChildInterface (childInterface) {\r\n      this.$options.childInterface = childInterface\r\n    },\r\n    downloadImg () {\r\n      this.$options.childInterface.downloadImg()\r\n    },\r\n    regCard () {\r\n      this.$options.childInterface.regCard()\r\n    },\r\n    fullscreen () {\r\n      this.isFullscreen ? document.exitFullscreen() : this.$el.requestFullscreen()\r\n    },\r\n    handleFullscreenChange () {\r\n      this.isFullscreen = !!document.fullscreenElement\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.container {\r\n  position: relative;\r\n  height: 800px;\r\n  & .tools {\r\n    position: absolute;\r\n    top: 30px;\r\n    right: 3px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <ul class=\"tools\">\r\n    <li\r\n      v-for=\"menuItem of menu\"\r\n      :key=\"menuItem\"\r\n      @click=\"handleClick(menuItem)\"\r\n    >\r\n      <img\r\n        v-if=\"menuItem.icon\"\r\n        :src=\"require(`@/assets/icons/${menuItem.icon}`)\"\r\n        :alt=\"menuItem.name\"\r\n      >\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport { menu } from '@/components/draw/components/toolsActions'\r\n\r\nexport default {\r\n  name: 'tools',\r\n  emits: [\r\n    'handle-tools',\r\n    'change-pen-color',\r\n    'change-pen-size',\r\n    'change-pen-mode',\r\n    'download-img',\r\n    'reg-card',\r\n    'fullscreen'\r\n  ],\r\n  data () {\r\n    return {\r\n      tools: [],\r\n      menu: []\r\n    }\r\n  },\r\n  mounted () {\r\n    this.menu = menu\r\n    this.modeSetter('Карандаш')\r\n  },\r\n  methods: {\r\n    getActionFromMenu (actionName) {\r\n      return this.menu.findIndex(i => i.name === actionName)\r\n    },\r\n    cyclone (action, searchMethod, searchArg, currentStaff) {\r\n      const indexOfCurrentStaff = action.fill[searchMethod](searchArg)\r\n      action[currentStaff] = indexOfCurrentStaff === (action.fill.length - 1)\r\n        ? action.fill[0]\r\n        : action.fill[indexOfCurrentStaff + 1]\r\n\r\n      return action[currentStaff]\r\n    },\r\n    regCard () {\r\n      this.$emit('reg-card')\r\n    },\r\n    downloadImg () {\r\n      this.$emit('download-img')\r\n    },\r\n    fullscreen () {\r\n      this.$emit('fullscreen')\r\n    },\r\n    modeSetter (actionName) {\r\n      let action = this.menu[this.getActionFromMenu(actionName)]\r\n      const emit = this.cyclone(\r\n        action,\r\n        'indexOf',\r\n        action.isOn,\r\n        'isOn')\r\n      this.$emit('change-pen-mode', { isOn: emit, mode: action.arg })\r\n    },\r\n    changeColor (actionName) {\r\n      let action = this.menu[this.getActionFromMenu(actionName)]\r\n      const emit = this.cyclone(\r\n        action,\r\n        'findIndex',\r\n        c => c.color === action.currentColor.color,\r\n        'currentColor')\r\n      this.$emit('change-pen-color', emit)\r\n    },\r\n    changeSize (actionName) {\r\n      let action = this.menu.find(i => i.name === actionName)\r\n      const emit = this.cyclone(action, 'indexOf', action.currentSize, 'currentSize')\r\n      this.$emit('change-pen-size', emit)\r\n    },\r\n    handleClick (action) {\r\n      this[action.funcName](action.name)\r\n      if (action.funcName === 'modeSetter') {\r\n        this.menu.forEach(item => {\r\n          if (item.name !== action.name && Object.hasOwn(item, 'isOn')) {\r\n            item.isOn = false\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n .tools {\r\n   pointer-events: none;\r\n   display: flex;\r\n   flex-flow: row wrap;\r\n   width: 100%;\r\n   max-width: 30%;\r\n   gap: 10px;\r\n   & li {\r\n     cursor: pointer;\r\n     pointer-events: auto;\r\n     position: relative;\r\n     display: flex;\r\n     flex-flow: column;\r\n     align-items: center;\r\n     justify-content: center;\r\n     height: 30px;\r\n     width: 30px;\r\n     background: white;\r\n     border: 1px solid red;\r\n     & img {\r\n       position: absolute;\r\n       width: 80%;\r\n       object-fit: contain;\r\n     }\r\n     & span {\r\n       text-align: left;\r\n     }\r\n   }\r\n }\r\n</style>\r\n","export const menu = [\r\n  {\r\n    icon: 'reg.svg',\r\n    name: 'Регистрация карточки',\r\n    funcName: 'regCard'\r\n  },\r\n  {\r\n    icon: 'download.svg',\r\n    name: 'Скачать изображение',\r\n    funcName: 'downloadImg'\r\n  },\r\n  {\r\n    icon: 'fullscreen.svg',\r\n    name: 'На полный экран',\r\n    funcName: 'fullscreen'\r\n  },\r\n  {\r\n    icon: 'color.svg',\r\n    name: 'Сменить цвет',\r\n    funcName: 'changeColor',\r\n    currentColor: { color: 'red', name: 'Красный' },\r\n    fill: [\r\n      { color: 'green', name: 'Зеленый' },\r\n      { color: 'red', name: 'Красный' },\r\n      { color: 'blue', name: 'Синий' }\r\n    ]\r\n  },\r\n  {\r\n    icon: 'size.svg',\r\n    name: 'Сменить размер',\r\n    funcName: 'changeSize',\r\n    currentSize: 5,\r\n    fill: [5, 10, 15]\r\n  },\r\n  {\r\n    icon: 'pen.svg',\r\n    name: 'Карандаш',\r\n    funcName: 'modeSetter',\r\n    arg: 'pen',\r\n    isOn: false,\r\n    fill: [false, true]\r\n  },\r\n  {\r\n    icon: 'erase.svg',\r\n    name: 'Резинка',\r\n    funcName: 'modeSetter',\r\n    arg: 'erase',\r\n    isOn: false,\r\n    fill: [false, true]\r\n  },\r\n  {\r\n    icon: 'rays.svg',\r\n    name: 'Лучи',\r\n    funcName: 'modeSetter',\r\n    arg: 'rays',\r\n    isOn: false,\r\n    fill: [false, true]\r\n  }\r\n]\r\n","import { render } from \"./tools.vue?vue&type=template&id=fd257c0a&scoped=true\"\nimport script from \"./tools.vue?vue&type=script&lang=js\"\nexport * from \"./tools.vue?vue&type=script&lang=js\"\n\nimport \"./tools.vue?vue&type=style&index=0&id=fd257c0a&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Projects\\\\My\\\\drawnsell\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fd257c0a\"]])\n\nexport default __exports__","<template>\r\n  <canvas\r\n    id=\"draw-field\"\r\n    ref=\"field\"\r\n    @mousedown=\"setPosition\"\r\n    @mouseenter=\"setPosition\"\r\n    @mousemove=\"draw\"\r\n  >\r\n    Браузер не поддерживает рисовалку\r\n  </canvas>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'field',\r\n  emits: ['interface'],\r\n  props: {\r\n    fullscreen: {\r\n      type: Boolean\r\n    }\r\n  },\r\n  components: {\r\n  },\r\n  inject: ['lineCfg'],\r\n  data () {\r\n    return {\r\n      // canvas\r\n      canvas: null,\r\n      context: null,\r\n      // offscreenCanvas\r\n      offScreenCanvas: null,\r\n      subContext: null,\r\n      // Draw settings\r\n      pos: { x: 0, y: 0 },\r\n      line: {\r\n        cap: 'round',\r\n        width: 5,\r\n        color: 'red',\r\n        mode: ''\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    lineCfg: {\r\n      handler (cfg) {\r\n        Object.assign(this.line, cfg.value)\r\n      },\r\n      deep: true\r\n    },\r\n    fullscreen (is) {\r\n      !is && this.rerenderImg()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.emitInterface()\r\n    window.addEventListener('resize', this.rerenderImg)\r\n    this.canvas = this.$el\r\n    this.context = this.canvas.getContext('2d')\r\n    this.createOffsetScreenCanvas()\r\n    this.rerenderImg()\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener('resize', this.rerenderImg)\r\n  },\r\n  methods: {\r\n    createOffsetScreenCanvas () {\r\n      this.offScreenCanvas = document.createElement('canvas')\r\n      this.offScreenCanvas.width = 3000\r\n      this.offScreenCanvas.height = 3000\r\n      this.subContext = this.offScreenCanvas.getContext('2d')\r\n    },\r\n    setPosition(e) {\r\n      this.pos.x = e.offsetX >= 0 ? e.offsetX : 0\r\n      this.pos.y = e.offsetY >= 0 ? e.offsetY : 0\r\n    },\r\n    setLineStyle () {\r\n      this.subContext.lineWidth = this.line.width\r\n      this.subContext.lineCap = this.line.cap\r\n      this.subContext.strokeStyle = this.line.color\r\n    },\r\n    setLinePath (evt) {\r\n      this.subContext.globalCompositeOperation='source-over'\r\n      if (this.line.mode === 'erase') {\r\n        this.subContext.globalCompositeOperation='destination-out'\r\n        this.subContext.arc(this.pos.x,this.pos.y,8,0,Math.PI*2,false)\r\n        this.subContext.fill()\r\n        this.setPosition(evt)\r\n      } else if (this.line.mode === 'rays') {\r\n        this.subContext.moveTo(this.pos.x, this.pos.y)\r\n        this.subContext.lineTo(evt.offsetX, evt.offsetY)\r\n      } else { // if (this.line.mode === 'pen')\r\n        this.subContext.moveTo(this.pos.x, this.pos.y)\r\n        this.setPosition(evt)\r\n        this.subContext.lineTo(this.pos.x, this.pos.y)\r\n      }\r\n    },\r\n    draw(evt) {\r\n      if (evt.buttons !== 1) return\r\n      this.subContext.beginPath()\r\n      this.setLineStyle()\r\n      this.setLinePath(evt)\r\n      this.subContext.stroke()\r\n      this.rerenderImg()\r\n    },\r\n    setCanvasSize () {\r\n      const { clientWidth: width, clientHeight: height } = document.querySelector('#draw-field').parentNode\r\n      this.context.canvas.width = width - 5\r\n      this.context.canvas.height = this.fullscreen ? height - 15 : height > 800 ? 800 : height\r\n    },\r\n    putImgData () {\r\n      this.context.drawImage(this.offScreenCanvas, 0, 0)\r\n    },\r\n    rerenderImg () {\r\n      this.setCanvasSize()\r\n      this.putImgData()\r\n    },\r\n    downloadImg () {\r\n      let a = document.createElement('a')\r\n      a.href = this.canvas.toDataURL('image/png', 1.0)\r\n      a.download = 'aboba'\r\n      document.body.appendChild(a)\r\n      a.click()\r\n    },\r\n    regCard () {\r\n      // todo окно регистрации карточки\r\n    },\r\n    emitInterface () {\r\n      this.$emit('interface', {\r\n        downloadImg: () => this.downloadImg()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\ncanvas {\r\n  border: 1px solid #ccc;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n</style>\r\n","import { render } from \"./field.vue?vue&type=template&id=4501b0bc&scoped=true\"\nimport script from \"./field.vue?vue&type=script&lang=js\"\nexport * from \"./field.vue?vue&type=script&lang=js\"\n\nimport \"./field.vue?vue&type=style&index=0&id=4501b0bc&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Projects\\\\My\\\\drawnsell\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4501b0bc\"]])\n\nexport default __exports__","import { render } from \"./container.vue?vue&type=template&id=90bf2672&scoped=true\"\nimport script from \"./container.vue?vue&type=script&lang=js\"\nexport * from \"./container.vue?vue&type=script&lang=js\"\n\nimport \"./container.vue?vue&type=style&index=0&id=90bf2672&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Projects\\\\My\\\\drawnsell\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-90bf2672\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"statistics container\">\r\n    <div class=\"container-wrapper\">\r\n      <div\r\n        v-for=\"i of 3\"\r\n        :key=\"i\"\r\n        class=\"card\"\r\n      >\r\n        {{ i }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'statistics',\r\n  components: {},\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  mounted() {\r\n\r\n  },\r\n  methods: {}\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.statistics {\r\n  max-width: 1340px;\r\n  & .container-wrapper {\r\n    padding: 80px 0 85px;\r\n    display: flex;\r\n    flex-flow: row wrap;\r\n    gap: 40px;\r\n  }\r\n}\r\n.card {\r\n  min-width: 340px;\r\n  flex-basis: calc(100% / 3 - 27px);\r\n  flex-grow: 1;\r\n  height: 545px;\r\n  background-color: var(--green-1);\r\n  @media (max-width: 800px) {\r\n    flex-basis: 100%;\r\n    height: 345px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./statistics.vue?vue&type=template&id=fcb6b62e&scoped=true\"\nimport script from \"./statistics.vue?vue&type=script&lang=js\"\nexport * from \"./statistics.vue?vue&type=script&lang=js\"\n\nimport \"./statistics.vue?vue&type=style&index=0&id=fcb6b62e&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Projects\\\\My\\\\drawnsell\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fcb6b62e\"]])\n\nexport default __exports__","import { render } from \"./drawPage.vue?vue&type=template&id=cc6b90be&scoped=true\"\nimport script from \"./drawPage.vue?vue&type=script&lang=js\"\nexport * from \"./drawPage.vue?vue&type=script&lang=js\"\n\nimport \"./drawPage.vue?vue&type=style&index=0&id=cc6b90be&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Projects\\\\My\\\\drawnsell\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cc6b90be\"]])\n\nexport default __exports__","var map = {\n\t\"./business.svg\": 2539,\n\t\"./color.svg\": 3971,\n\t\"./download.svg\": 9007,\n\t\"./erase.svg\": 847,\n\t\"./fullscreen.svg\": 9380,\n\t\"./pen.svg\": 9922,\n\t\"./rays.svg\": 9055,\n\t\"./reg.svg\": 3928,\n\t\"./size.svg\": 6586\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 6075;"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_black_sun","_createElementVNode","_hoisted_2","_component_intro","_component_container","_component_statistics","name","components","data","computed","watch","mounted","methods","__exports__","_component_tools","onHandleTools","$setup","onChangePenColor","onChangePenSize","onChangePenMode","onDownloadImg","$options","onRegCard","onFullscreen","_component_field","fullscreen","onInterface","_Fragment","$data","menuItem","key","onClick","icon","src","require","alt","menu","funcName","currentColor","color","fill","currentSize","arg","isOn","emits","tools","this","modeSetter","getActionFromMenu","actionName","findIndex","i","cyclone","action","searchMethod","searchArg","currentStaff","indexOfCurrentStaff","length","regCard","$emit","downloadImg","emit","mode","changeColor","c","changeSize","find","handleClick","forEach","item","Object","hasOwn","id","ref","onMousedown","onMouseenter","onMousemove","props","type","Boolean","inject","canvas","context","offScreenCanvas","subContext","pos","x","y","line","cap","width","lineCfg","handler","cfg","assign","value","deep","is","rerenderImg","emitInterface","window","addEventListener","$el","getContext","createOffsetScreenCanvas","beforeUnmount","removeEventListener","document","createElement","height","setPosition","e","offsetX","offsetY","setLineStyle","lineWidth","lineCap","strokeStyle","setLinePath","evt","globalCompositeOperation","arc","Math","PI","moveTo","lineTo","draw","buttons","beginPath","stroke","setCanvasSize","clientWidth","clientHeight","querySelector","parentNode","putImgData","drawImage","a","href","toDataURL","download","body","appendChild","click","field","setup","isFullscreen","changePenMode","actionData","changePenColor","changePenSize","handleTools","func","provide","handleFullscreenChange","getChildInterface","childInterface","exitFullscreen","requestFullscreen","fullscreenElement","intro","container","statistics","render","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","resolve","module","exports"],"sourceRoot":""}